2026-02-18 09:53:40.629 +02:00 [INF] Now listening on: http://localhost:5034
2026-02-18 09:53:40.667 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-18 09:53:40.668 +02:00 [INF] Hosting environment: Development
2026-02-18 09:53:40.668 +02:00 [INF] Content root path: E:\Projects\URL Shortener API\UrlShortener.Api
2026-02-18 10:24:30.117 +02:00 [INF] Now listening on: http://localhost:5034
2026-02-18 10:24:30.161 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-18 10:24:30.166 +02:00 [INF] Hosting environment: Development
2026-02-18 10:24:30.168 +02:00 [INF] Content root path: E:\Projects\URL Shortener API\UrlShortener.Api
2026-02-18 10:24:32.860 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5034/ - null null
2026-02-18 10:24:32.933 +02:00 [INF] HTTP GET / responded 404 in 25.8988 ms
2026-02-18 10:24:32.948 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5034/ - 404 0 null 90.4991ms
2026-02-18 10:24:32.963 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5034/, Response status code: 404
2026-02-18 10:24:47.672 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5034/swigger/index.html - null null
2026-02-18 10:24:47.683 +02:00 [INF] HTTP GET /swigger/index.html responded 404 in 2.0057 ms
2026-02-18 10:24:47.689 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5034/swigger/index.html - 404 0 null 17.2016ms
2026-02-18 10:24:47.698 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5034/swigger/index.html, Response status code: 404
2026-02-18 10:26:21.329 +02:00 [INF] Application is shutting down...
2026-02-18 10:26:33.892 +02:00 [INF] Now listening on: https://localhost:7221
2026-02-18 10:26:33.945 +02:00 [INF] Now listening on: http://localhost:5034
2026-02-18 10:26:34.022 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-18 10:26:34.024 +02:00 [INF] Hosting environment: Development
2026-02-18 10:26:34.027 +02:00 [INF] Content root path: E:\Projects\URL Shortener API\UrlShortener.Api
2026-02-18 10:26:34.981 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7221/swagger - null null
2026-02-18 10:26:35.304 +02:00 [INF] HTTP GET /swagger responded 301 in 5.4731 ms
2026-02-18 10:26:35.317 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7221/swagger - 301 0 null 341.7479ms
2026-02-18 10:26:35.326 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7221/swagger/index.html - null null
2026-02-18 10:26:35.456 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 109.8385 ms
2026-02-18 10:26:35.465 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7221/swagger/index.html - 200 null text/html;charset=utf-8 138.9803ms
2026-02-18 10:26:35.475 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7221/swagger/swagger-ui.css - null null
2026-02-18 10:26:35.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7221/swagger/swagger-ui-bundle.js - null null
2026-02-18 10:26:35.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7221/swagger/swagger-ui-standalone-preset.js - null null
2026-02-18 10:26:35.561 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2026-02-18 10:26:35.561 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2026-02-18 10:26:35.566 +02:00 [INF] HTTP GET /swagger/swagger-ui-standalone-preset.js responded 200 in 67.3112 ms
2026-02-18 10:26:35.569 +02:00 [INF] HTTP GET /swagger/swagger-ui.css responded 200 in 84.0190 ms
2026-02-18 10:26:35.575 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7221/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 99.0118ms
2026-02-18 10:26:35.591 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7221/_framework/aspnetcore-browser-refresh.js - null null
2026-02-18 10:26:35.590 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2026-02-18 10:26:35.591 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7221/_vs/browserLink - null null
2026-02-18 10:26:35.616 +02:00 [INF] HTTP GET /swagger/swagger-ui-bundle.js responded 200 in 126.1903 ms
2026-02-18 10:26:35.581 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7221/swagger/swagger-ui.css - 200 152034 text/css 105.1012ms
2026-02-18 10:26:35.627 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7221/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 151.3734ms
2026-02-18 10:26:35.633 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7221/swagger/swagger-ui-bundle.js - null null
2026-02-18 10:26:35.625 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7221/_framework/aspnetcore-browser-refresh.js - null null
2026-02-18 10:26:35.609 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7221/swagger/swagger-ui-standalone-preset.js - null null
2026-02-18 10:26:35.666 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7221/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 41.9464ms
2026-02-18 10:26:35.682 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2026-02-18 10:26:35.620 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7221/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 29.3942ms
2026-02-18 10:26:35.695 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2026-02-18 10:26:35.690 +02:00 [INF] HTTP GET /swagger/swagger-ui-standalone-preset.js responded 200 in 16.2668 ms
2026-02-18 10:26:35.701 +02:00 [INF] HTTP GET /swagger/swagger-ui-bundle.js responded 200 in 47.3990 ms
2026-02-18 10:26:35.706 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7221/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 97.7046ms
2026-02-18 10:26:35.712 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7221/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 78.6901ms
2026-02-18 10:26:35.729 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7221/_vs/browserLink - 200 null text/javascript; charset=UTF-8 138.5736ms
2026-02-18 10:26:35.911 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7221/swagger/v1/swagger.json - null null
2026-02-18 10:26:35.937 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 17.4522 ms
2026-02-18 10:26:35.942 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7221/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.7071ms
2026-02-18 10:26:35.948 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7221/swagger/favicon-32x32.png - null null
2026-02-18 10:26:35.960 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2026-02-18 10:26:35.963 +02:00 [INF] HTTP GET /swagger/favicon-32x32.png responded 200 in 3.6214 ms
2026-02-18 10:26:35.968 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7221/swagger/favicon-32x32.png - 200 628 image/png 20.3596ms
2026-02-18 10:26:38.271 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7221/_vs/browserLink - null null
2026-02-18 10:26:38.315 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7221/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.2955ms
2026-02-18 10:28:15.665 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7221/r/https:%2F%2Fwww.example.com%2Fproducts%2Fcategory%2Fsubcategory%2Fitem-name-with-extra-description-and-keywords?utm_source=newsletter&utm_medium=email&utm_campaign=spring_sale_2026&utm_content=hero_banner_click&ref=affiliate_partner_12345&session_id=abc123xyz456def789ghi012jkl345mno678pqr901stu234vwx567yz - null null
2026-02-18 10:28:15.680 +02:00 [INF] Executing endpoint 'UrlShortener.Api.Controllers.RedirectController.RedirectToOriginal (UrlShortener.Api)'
2026-02-18 10:28:15.719 +02:00 [INF] Route matched with {action = "RedirectToOriginal", controller = "Redirect"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RedirectToOriginal(System.String, System.Threading.CancellationToken) on controller UrlShortener.Api.Controllers.RedirectController (UrlShortener.Api).
2026-02-18 10:28:29.014 +02:00 [ERR] An error occurred using the connection to database 'UrlShortenerDb' on server '.'.
2026-02-18 10:28:29.076 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'UrlShortener.Infrastructure.Persistence.AppDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "UrlShortenerDb" requested by the login. The login failed.
Login failed for user 'DESKTOP-NKFUK27\Adham'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:e44e25e2-a018-4678-9fde-fd7e54dda821
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "UrlShortenerDb" requested by the login. The login failed.
Login failed for user 'DESKTOP-NKFUK27\Adham'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:e44e25e2-a018-4678-9fde-fd7e54dda821
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-18 10:28:29.281 +02:00 [INF] Executed action UrlShortener.Api.Controllers.RedirectController.RedirectToOriginal (UrlShortener.Api) in 13551.0267ms
2026-02-18 10:28:29.288 +02:00 [INF] Executed endpoint 'UrlShortener.Api.Controllers.RedirectController.RedirectToOriginal (UrlShortener.Api)'
2026-02-18 10:28:29.398 +02:00 [ERR] HTTP GET /r/https:%2F%2Fwww.example.com%2Fproducts%2Fcategory%2Fsubcategory%2Fitem-name-with-extra-description-and-keywords?utm_source=newsletter&utm_medium=email&utm_campaign=spring_sale_2026&utm_content=hero_banner_click&ref=affiliate_partner_12345&session_id=abc123xyz456def789ghi012jkl345mno678pqr901stu234vwx567yz responded 500 in 13721.2611 ms
2026-02-18 10:28:29.419 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7221/r/https:%2F%2Fwww.example.com%2Fproducts%2Fcategory%2Fsubcategory%2Fitem-name-with-extra-description-and-keywords?utm_source=newsletter&utm_medium=email&utm_campaign=spring_sale_2026&utm_content=hero_banner_click&ref=affiliate_partner_12345&session_id=abc123xyz456def789ghi012jkl345mno678pqr901stu234vwx567yz - 500 null application/json 13754.3166ms
